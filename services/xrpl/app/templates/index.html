<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebSocket Events</title>
<body>
    <h1>WebSocket Events</h1>
    <ul id="events-list"></ul>

    <script>
        const socket = new WebSocket("ws://127.0.0.1:8080/ws");
        const eventsList = document.getElementById("events-list");

        socket.addEventListener("open", (event) => {
          console.log("WebSocket connected:", event);

          // Send a payment request over the WebSocket connection
          // socket.send(
          //   JSON.stringify({
          //     type: "payment_request",
          //     amount: 10000,
          //     source: "rB4iz44nvW2yGDBYTkspVfyR2NMsR3NtfF",
          //     destination: "rpaxHGQVgQSXF1HaKGRpLKm6X7eh26v6eV",
          //     note: "Payment for invoice #123",
          //   })
          // );
        });

        socket.addEventListener("message", (event) => {
          console.log("WebSocket message received:", event.data);
          const li = document.createElement("li");
          li.textContent = event.data;
          eventsList.appendChild(li);
        });

        socket.addEventListener("close", (event) => {
          console.log("WebSocket disconnected:", event);
        });
    </script>
</body>
</html>